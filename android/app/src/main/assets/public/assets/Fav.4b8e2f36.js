import{g as I,E as w,G as N,m as $,H as E,o as c,c as r,j as b,F as j,x as D,a as g,y as p,e as L,I as S,C as l,D as i,J as V,K as R,B as f}from"./index.a29c27fe.js";const U={class:"flex flex-col justify-center items-center gap-7"},z={class:"flex flex-col gap-10 justify-center"},A={key:0},J=I({__name:"Fav",setup(G){let o=1;const{favs:d,gets:u,deleteFav:h}=w(),v=S(),m=f(),C=N(),P=$(C,"deletePost");u();const x=async t=>{const{open:a,close:n}=l();a();try{h(t)}catch(s){const{open:e}=i();e(s)}n()},y=async t=>{const{open:a,close:n}=l();a(),m.value.isPending=!0;try{await P.value(t._id)}catch(s){const{open:e}=i();e(s)}m.value.isPending=!1,n()},k=t=>{const a=f();a.value.postId=t._id,v.push({name:"Comments",params:{id:t._id}})},F=async()=>{const{open:t,close:a}=l();t();try{o++,await u(o)}catch(n){o--;const{open:s}=i();s(n)}a()},B=async()=>{const{open:t,close:a}=l();if(t(),o<=1){const{open:n}=i();n("\u5DF2\u7ECF\u662F\u7B2C\u4E00\u9875!");return}else o--,await u(o);a()};return E(()=>{}),(t,a)=>{const n=V,s=R;return c(),r("div",U,[b("ul",z,[(c(!0),r(j,null,D(p(d),e=>(c(),r("li",{key:e._id},[g(n,{creatorId:e.creator,title:e.title,author:e.author,description:e.content,"btn-name":"\u5220\u9664","img-url":e.imageUrl||"https://images-na.ssl-images-amazon.com/images/I/81WcnNQ-TBL.jpg","is-fav":e.isFav,onClickBtn:_=>y(e),onClickStar:_=>x(e),onClickImage:_=>k(e),class:"post-card hover:scale-105 duration-200 drop-shadow-2xl shadow-2xl bg-blend-color-burn"},null,8,["creatorId","title","author","description","img-url","is-fav","onClickBtn","onClickStar","onClickImage"])]))),128)),p(d).length!==0?(c(),r("div",A,[g(s,{onPagePre:B,onPageNext:F})])):L("",!0)])])}}});export{J as default};
